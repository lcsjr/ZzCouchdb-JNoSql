/*
 * This file was generated by the Gradle 'init' task.
 */

plugins {
    id 'java'
    id 'com.gradle.build-scan' version '2.0.2'
    id 'org.springframework.boot' version '2.1.4.RELEASE'
    id 'io.spring.dependency-management' version '1.0.7.RELEASE'
}


// Skip Tests
test.onlyIf { false }

repositories {
    mavenLocal()
    maven {
        url = 'http://162.209.74.228:8080/artifactory/ext-release-local/'
    }

    maven {
        url = 'http://162.209.74.228:8080/artifactory/repo/'
    }

    maven {
        url = 'https://oss.sonatype.org/content/repositories/snapshots/'
    }

    maven {
        url = 'https://repo.maven.apache.org/maven2/'
    }

    maven {
        url = 'https://bams-aws.refinitiv.com/artifactory/default.maven.cloud/osr-development/'
    }

    maven {
        url = 'https://bams-amers-sami.int.thomsonreuters.com/artifactory/remote-repos'
    }
}

dependencies {
	
	implementation 'org.springframework.boot:spring-boot-dependencies:2.1.4.RELEASE'
	implementation 'org.springframework.boot:spring-boot-starter'
	implementation 'org.springframework.boot:spring-boot-starter-web'
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	runtime 'org.springframework.boot:spring-boot-devtools'

	testImplementation 'org.springframework.boot:spring-boot-starter-test'

	components {
		withModule('org.springframework:spring-beans') {
			allVariants {
				withDependencyConstraints {
					// Need to patch constraints because snakeyaml is an optional dependency
					it.findAll { it.name == 'snakeyaml' }.each { it.version { strictly '1.19' } }
				}
			}
		}
	}

    implementation 'org.springframework:spring-context:5.1.6.RELEASE'
	
    implementation 'org.jnosql.artemis:artemis-configuration:0.0.9'
    implementation 'org.jnosql.artemis:artemis-document:0.0.9'
    implementation 'org.jnosql.diana:diana-document:0.0.9'
    implementation 'org.jnosql.diana:diana-driver-commons:0.0.9'
    implementation 'org.jnosql.diana:couchdb-driver:0.0.9'
	
    implementation 'org.eclipse:yasson:1.0'
    implementation 'org.glassfish:javax.json:1.1'
    
    implementation 'com.h2database:h2:1.4.199'
	
	implementation 'org.projectlombok:lombok:1.18.6'
	annotationProcessor 'org.projectlombok:lombok:1.18.6'
		
}

group = 'br.com.thomsonreuters'
version = '0.0.1-SNAPSHOT'
description = 'ZzCouchDB-JNoSql'
sourceCompatibility = '1.8'



tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

buildScan {
	
	// always accept the terms of service
	termsOfServiceUrl = 'https://gradle.com/terms-of-service'
	termsOfServiceAgree = 'yes'

	// always publish a build scan
	publishAlways()
}
	
bootJar {
	mainClassName = 'br.com.thomsonreuters.main.CouchDbJNoSqlApplication'
}
